{
  "pipeline": {
    "name": "model"
  },
  "transform": {
    "image": "kaixhin/neon",
    "cmd": [ 
	"python",
	"examples/imdb/train.py",
	"-f",
	"/pfs/training/labeledTrainData.tsv",
	"-e",
	"2",
	"-eval",
	"1",
	"-s",
	"/pfs/out/imdb.p",
	"--vocab_file",
	"/pfs/out/imdb.vocab"
    ],
    "stdin": [],
    "overwrite": true
  },
  "parallelism_spec": {
    "strategy": "CONSTANT",
    "constant": "1"
  },
  "inputs": [
    {
      "repo": {
        "name": "training"
      },
      "method": "global"
    }
  ]
}
{
  "pipeline": {
    "name": "inference"
  },
  "transform": {
    "image": "dwhitena/neon-inference",
    "cmd": [ 
	"python",
	"examples/imdb/auto_inference.py",
	"--model_weights",
	"/pfs/model/imdb.p",
	"--vocab_file",
	"/pfs/model/imdb.vocab",
	"--review_files",
	"/pfs/reviews",
	"--output_dir",
	"/pfs/out"
    ],
    "stdin": []
  },
  "parallelism_spec": {
    "strategy": "CONSTANT",
    "constant": "1"
  },
  "inputs": [
    {
      "repo": {
        "name": "reviews"
      }
    },
    {
      "repo": {
	"name": "model"
      },
      "model": "global"
    }
  ]
}
